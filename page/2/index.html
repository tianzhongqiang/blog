<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
<meta property="og:type" content="website">
<meta property="og:title" content="静水流深">
<meta property="og:url" content="http://www.thinkyixia.com/page/2/index.html">
<meta property="og:site_name" content="静水流深">
<meta property="og:description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="静水流深">
<meta name="twitter:description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">



  <link rel="alternate" href="/atom.xml" title="静水流深" type="application/atom+xml" />




  <link rel="canonical" href="http://www.thinkyixia.com/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>静水流深</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">静水流深</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Just For Fun</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2018/04/13/baoxian-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/baoxian-2/" itemprop="url">
                  保险学习笔记2：理解保险负债
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-04-13 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-13T00:00:00+08:00">2018-04-13</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/保险/" itemprop="url" rel="index"><span itemprop="name">保险</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>保险公司负债形式有很多，我们只讨论最重要的，也是特有负债，由规模保费（包含保险业务保费和非保险合同保费）产生的准备金或类似于准备金的负债，这部分负债在保险公司负债中的占比最大，约80%左右。</p>
<h1 id="三种保费对应三类负债"><a href="#三种保费对应三类负债" class="headerlink" title="三种保费对应三类负债"></a>三种保费对应三类负债</h1><table>
<thead>
<tr>
<th>保费收入</th>
<th></th>
<th>负债</th>
</tr>
</thead>
<tbody>
<tr>
<td>原保险保费收入</td>
<td>保险合同准备金</td>
<td>未到期责任准备金、未决赔款准备金、寿险责任准备金、长期健康险责任准备金</td>
</tr>
<tr>
<td>保户投资款新增交费</td>
<td></td>
<td>保户储金及投资款</td>
</tr>
<tr>
<td>投连险独立账户新增交费</td>
<td></td>
<td>独立账户负债</td>
</tr>
</tbody>
</table>
<p>对于这三种负债，可以这样理解：<br>1、负债是存量不是流量，是历年保险业务累计形成的<br>2、相当于保险公司有三个大水池，分别对应三种负债，每个水池有进水管和出水管，进水管流入的是新保费产生的准备金（或投资款）及其增加值（或将要支付给客户的投资收益）；出水管流出的是保险金给付和退保金；在某一时刻留在水池中的金额就是负债金额。</p>
<h1 id="对三类负债的具体解释"><a href="#对三类负债的具体解释" class="headerlink" title="对三类负债的具体解释"></a>对三类负债的具体解释</h1><p>1、对于短期纯保障性保险，即各类1年期及1年期以下的保障性保险，保险公司从保费收入中提取准备金，形成资产负债表中的“未到期责任准备金和未决赔款准备金”<br>2、对于经过重大保险风险测试、归类为保险合同的长期保障储蓄性保险（普通寿险和分红险）而言，保险公司会从保费中提取准备金，形成资产负债表中的“寿险责任准备金和长期健康险责任准备金”<br>寿险责任准备金：长期寿险的未到期责任准备金和未决赔款准备金之和；<br>长期健康险责任准备金：长期健康险的未到期责任准备金和未决赔款准备金之和<br>3、对于未经过重大保险风险测试、归类为非保险合同的长期保障储蓄性保险（普通寿险和分红险）而言，保费收入计入保护投资款新增交费，形成负债中的”保户储金及投资款“<br>4、对于可拆分的万能险，将进入个人账户的保费计入投资款，形成负债表中的“保户储金及投资款”<br>5、对于可拆分的投资连结保险，将进入投资账户的保费计入投资款，形成了负债表中的独立账户负债。</p>
<h1 id="产险公司的负债及其特点"><a href="#产险公司的负债及其特点" class="headerlink" title="产险公司的负债及其特点"></a>产险公司的负债及其特点</h1><h2 id="产险公司负债"><a href="#产险公司负债" class="headerlink" title="产险公司负债"></a>产险公司负债</h2><p>由于纯保障性保险都是短期的，其准备金有两个：未到期责任准备金和未决赔款准备金。</p>
<ul>
<li>未到期责任准备金<br>也称为未赚保费，是指在会计年度决算时，对未满期保险单提存的对应于剩余保险期限的保险责任的准备金。<br>就是投保人买的保险还没有到期，你需要提取出一部分钱来准备着，以预防投保人在剩余保险期间有什么问题。</li>
<li>未决赔款准备金<br>指保险事故已经发生在本会计年度内，但是保险公司因为责任界定、理赔程序未完成等原因尚未赔偿或未给付保险金，这部分资金也需要从保费中提取出来。<h2 id="产险负债的特点（以平安产险为例）"><a href="#产险负债的特点（以平安产险为例）" class="headerlink" title="产险负债的特点（以平安产险为例）"></a>产险负债的特点（以平安产险为例）</h2>在负债表中可以看出，其主要的负债就是未到期责任准备金和未决赔款准备金。</li>
</ul>
<h1 id="寿险公司负债及其特点"><a href="#寿险公司负债及其特点" class="headerlink" title="寿险公司负债及其特点"></a>寿险公司负债及其特点</h1><h2 id="保险业务负债"><a href="#保险业务负债" class="headerlink" title="保险业务负债"></a>保险业务负债</h2><p>从保险业务看，寿险公司经营以长期保险业务为主，也经营短期保障性保险。长期保险准备金有两个：寿险责任准备金和长期健康险责任准备金。<br>寿险责任准备金来源于长期寿险业务：两全保险、终身寿险、年金保险等；<br>长期健康险责任准备金来源于长期健康险业务：长期重疾险、长期护理险等；</p>
<h2 id="非保险业务"><a href="#非保险业务" class="headerlink" title="非保险业务"></a>非保险业务</h2><p>从非保险业务看，万能险的个人帐户的保户储金和投资款负债，投连险投资账户的独立账户负债，以及未经过重大保险风险测试的普通寿险和分红险业务产生的保户储金和投资款负债。</p>
<h2 id="寿险公司负债特点"><a href="#寿险公司负债特点" class="headerlink" title="寿险公司负债特点"></a>寿险公司负债特点</h2><p>1、多数寿险公司以保险业务为主、非保险业务为辅，所以负债以保险业务带来的保险合同准备金（包括未到期责任准备金、未决赔款准备金、寿险责任准备金和长期健康险责任准备金）为主<br>2、多数寿险公司以长期保险为主、短期保险为辅，因此，负债以保险业务带来的长期负债（寿险责任准备金和长期健康险责任准备金）为主<br>3、多数寿险公司以长期寿险为主、长期健康险为辅，因此，负债都以寿险责任准备金为主</p>
<hr>
<p>学习资料来自微信公众号：保险神潭</p>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2018/04/12/baoxian-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/12/baoxian-1/" itemprop="url">
                  保险学习笔记1：保险公司保费收入
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-04-12 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-12T00:00:00+08:00">2018-04-12</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/保险/" itemprop="url" rel="index"><span itemprop="name">保险</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/baoxian-1.png" alt=""><br><img src="/images/baoxian-2.png" alt=""></p>
<h1 id="保费收入"><a href="#保费收入" class="headerlink" title="保费收入"></a>保费收入</h1><p>保险公司的保费收入分为三种</p>
<ul>
<li>原保险保费收入</li>
<li>保户投资款新增交费</li>
<li>投连险独立账户新增交费<br>对于任何一家保险公司来说，这三者之和称为规模保费，而将原保险收入称为保费收入。</li>
</ul>
<p>所有保险的产品分为三类</p>
<ul>
<li>纯保障性保险</li>
<li>保障储蓄性保险</li>
<li>纯投资性保险<br>那这三类保险都是怎么确认保费收入的呢，是确认为原保险保费收入、保户投资款新增交费，还是投连险独立账户新增交费呢？<br>那我们分别讨论一下。</li>
</ul>
<h2 id="纯保障性保险产生原保费收入"><a href="#纯保障性保险产生原保费收入" class="headerlink" title="纯保障性保险产生原保费收入"></a>纯保障性保险产生原保费收入</h2><p>纯保障性保险又称为消费性保险，期限都在1年或1年以下，如各类的财险、意外险、医疗险等。这类保险的特点是只有保障功能，保单没有现金价值或账户价值，即没有任何投资功能。</p>
<p>对于纯保障性保险，客户缴纳保费后，自然就形成了保险公司的“原保险保费收入”。</p>
<p>其中财产保险公司主要经营的就是纯保障性保险（也有少量的投资性产品），所以保监会给的财险公司的收入情况中只有原保险保费收入。</p>
<h2 id="纯投资性保险产生投资款"><a href="#纯投资性保险产生投资款" class="headerlink" title="纯投资性保险产生投资款"></a>纯投资性保险产生投资款</h2><p>纯投资性保险是指没有任何保障功能的保险，对于这类合同，保险公司将其确认为“非保险合同”，将收到的保费确认为投资款。<br>如果合同是投连险，就将其保费计入“投连险独立账户新增交费”；<br>如果是其它保险，就计入”保户投资款新增交费”。</p>
<p>这类保险规模不会太大，像之前平安保险旗下的万能险就是这样的，归类为非保险合同。</p>
<h2 id="保障储蓄性保险"><a href="#保障储蓄性保险" class="headerlink" title="保障储蓄性保险"></a>保障储蓄性保险</h2><p>1、保障储蓄性保险的特点<br>保障储蓄性保险既有保障功能，又有储蓄投资功能。期限一般在1年以上。<br>像终身寿险、长期重疾险、两全保险都属于保障储蓄性保险。</p>
<p>2、保障储蓄性保险的4种形式</p>
<ul>
<li>普通寿险<br>为客户的现金价值支付固定利率的复利利息，称为预定利率。由于利率固定，所以保单现金价值在整个保险期限内都是预先确定的。</li>
<li>分红险<br>为客户的现金价值提供保底利率，当前市场上保底利率多为2.5%左右，每年分红一次，红利主要取决于经营分红险的当年盈余</li>
<li>万能险（现已取消）<br>为客户的现金价值提供保底利率，当前市场上保底利率多为2.5%左右，每个月公布或调整一次结算利率</li>
<li>投资连结保险（跟基金公司一个模式）<br>类似于买基金，大部分资金投资于股票市场，客户承担风险，保险公司只收取资产管理费。</li>
</ul>
<p>3、保障储蓄性保险的保费收入确认<br>那保障储蓄性保险的保费收入是怎么确认的呢？<br>对于保障储蓄性保险来说，看起来保险公司既可以将其认为是保险合同，进而确认为保费收入；<br>也可以认为是非保险合同，进而产生“投资款”。<br>如果没有相应规范，保险公司往往会将其全部归为保费收入，但是显然政策是不会没有任何规范的。<br>为什么保险公司会希望将所有收入都归为保费收入呢？<br>很简单，规模收入中保费收入占比越高，越可以体现自己是一家保险公司，而且也可以符合监管机构“保险姓保”的要求</p>
<p>1) 政策规定与保险公司选择<br>2009年12月，财政部颁发了财会[2009]15号文“关于印发《保险合同相关会计处理规定》的通知”，专门明确了保障储蓄性保险的保费确认问题。</p>
<blockquote>
<p>《保险合同相关会计处理规定》相关规定（摘录）：</p>
<ul>
<li>1、保险人与投保人签订的合同，使保险人既承担保险风险又承担其他风险的，应当分别下列情况进行处理：<br>（1）保险风险部分和其他风险部分能够区分，并且能够单独计量的，应当将保险风险部分和其他风险部分进行分拆。保险风险部分，确定为保险合同；其他风险部分，不确定为保险合同。<br>（2）保险风险部分和其他风险部分不能够区分，或者虽能够区分但不能够单独计量的，如果保险风险重大，应当将整个合同确定为保险合同；如果保险风险不重大，不应当将整个合同确定为保险合同。</li>
<li>2、保险人与投保人签订的需要进行重大保险风险测试的合同，应当在合同初始确认日进行重大保险风险测试。测试结果表明，发生合同约定的保险事故可能导致保险人支付重大附加利益的，即认定该保险风险重大。附加利益，是指保险人在发生保险事故时的支付额，超过不发生保险事故时的支付额的金额。</li>
</ul>
</blockquote>
<p>什么意思呢，就是说看该保障储蓄性保险能不能将保险部分和其它（投资）部分拆分开，如果可以，就将拆分开的保险分别归入保险合同和非保险合同，这样也就自然确认了“保费收入”和“投资款”；<br>如果不好区分，那就需要看这个保险是保险风险更大还是其它风险更大了。这个就需要进行保险风险测试。</p>
<p>在上面提到的保障储蓄性保险的4种形式中，其中万能险和投连险比较容易拆分，而普通寿险和分红险需要进行风险测试。<br>2）对万能险和投连险进行拆分<br>万能险为客户设有个人帐户，投连险为客户设置投资账户。<br>客户购买万能险或者投连险之后，进入个人帐户或投资账户的钱，不计入保费收入，确认为“保户投资款新增交费”；<br>未进入的那部分保费，确认为“原保费收入”</p>
<p>3）对普通寿险和分红险进行重大保险风险测试<br>主要看是保险风险大还是其它风险大。而怎么量化这个大呢，看一下中国人寿的风险测试结果。</p>
<blockquote>
<p>中国人寿如何进行重大保险风险测试<br>（摘自中国人寿2014年年报）<br>如果原保险保单“保险风险比例”在保险期间的一个或多个时点大于等于5%，则确认为保险合同。<br>保险风险比例=(保险事故发生情境下保险人支付的金额-保险事故不发生情境下保险人支付的金额)/保险事故不发生情境下的保险人支付的金额×100%</p>
</blockquote>
<p>按中国人寿的测试来看，只要把保险产品设计成“保险金超过账户价值或现金价值5%”就可以认为整个合同是保险合同。<br>所以，这样的测试还是非常宽松的。</p>
<hr>
<p>学习资料来自微信公众号：保险神潭</p>
<p>数据来着保监会：<br><a href="http://bxjg.circ.gov.cn/web/site0/tab5202/info4103695.htm" target="_blank" rel="noopener">http://bxjg.circ.gov.cn/web/site0/tab5202/info4103695.htm</a></p>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2018/04/03/zero2one1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/03/zero2one1/" itemprop="url">
                  从0到1-读后感（一）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-04-03 00:00:00" itemprop="dateCreated datePublished" datetime="2018-04-03T00:00:00+08:00">2018-04-03</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/读书看报/" itemprop="url" rel="index"><span itemprop="name">读书看报</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>从1到n的世界里，一切市场博弈都是0和游戏，你的获得是从别人的损失中来的，在这样的游戏中，想要长久获利，只能时刻保持警惕，与一切对手做厮杀，只有打败对手，才能获取多一点点的利润。<br>从0到1的世界里，理论上讲一切市场是无限大的，以至于所有的人、企业都可以从中获利，从0到1开发的是未知的需要，市场是空白的，一旦建立护城河，可以坐着享受利润，不允许经历残酷的竞争。<br>所谓一将功成万骨枯，不过是0和博弈的结果，而从0到1的结果是所有人都找到自己的价值和长久获得价值的权利。</p>
<h1 id="进步的未来"><a href="#进步的未来" class="headerlink" title="进步的未来"></a>进步的未来</h1><p>进步分为两种：</p>
<ul>
<li>水平进步<blockquote>
<p>水平进步又称为广泛进步，意思是照搬以前的经验，从1到n的过程。</p>
</blockquote>
</li>
<li>垂直进步<blockquote>
<p>垂直进步又称深入进步，意思是探索新的道路，从0到1的过程。</p>
</blockquote>
</li>
</ul>
<p>从宏观角度看水平进步就是全球化，垂直进步就是科技进步</p>
<h2 id="水平进步（完全竞争）"><a href="#水平进步（完全竞争）" class="headerlink" title="水平进步（完全竞争）"></a>水平进步（完全竞争）</h2><p>从企业的角度来看，水平进步其实就是复制，复制现有的商业模式、现有的产品、进入现有的市场，产生完全竞争。<br>所谓的完全竞争市场在供求相当时达到平衡。<br>处于竞争市场中的每个公司之间没有差别，产品同质化严重，对产品没有定价权。当这个市场有钱可以赚的时候，就会有很多公司进入，然后供应量上升，价格回落，利润就会荡然无存。如果进入的公司太多，就会有公司亏损，甚至倒闭，然后慢慢的供求关系回到平衡状态。<br>长期来看，没有公司会获得经济利益。<br>很明显的例子，大学门口的煎饼果子，当只有一家煎饼果子摊时，供不应求，天天有人排队；<br>这时候有人看到这个生意赚钱，由于这个生意过于简单，可以很容易的复制，所以很快就在不远处再开一家煎饼果子摊，可能还会赚钱，但是肯定没有那么多了；<br>如果这时再来几个人，每个人都开一个，供给远远大于需求，这时候每天的收入可能就在成本附近了，或者根本不赚钱，一天也卖不了多少；<br>这时候肯定会有人退出，因为没有利润可以赚了，慢慢的退出几家之后，会剩下2-3家，每家的利润能勉强接受，但是肯定没有超额的利润空间了；<br>所以完全竞争会吞噬利润，完全竞争的市场也没有多大的经济利益空间。</p>
<h2 id="垂直进步（垄断）"><a href="#垂直进步（垄断）" class="headerlink" title="垂直进步（垄断）"></a>垂直进步（垄断）</h2><p>与完全竞争相反的就是垄断。垄断的公司都拥有自己的市场，拥有产品的定价权，没有竞争，可以自己决定供给量和价格，以实现利润最大化。<br>垄断企业企业可能来着与国家的特殊经营权，也可能是靠不断创新，远远甩开对手，在市场竞争中最终胜出。</p>
<blockquote>
<p>对竞争的理解<br>在整个社会中，竞争成为了一种观念。我们宣扬竞争，内化竞争的必要性；结果就是竞争越来越激烈，我们为了竞争付出了非常多的努力，但往往获得的却越来越少，我们把自己困在了竞争中。<br>学校教育也在内化竞争，用彼得蒂尔的话就是，无法安静地一直坐在书桌前学习的学生，在环境的影响下感觉自己好像低人一等；而在考试和作业上出类拔萃的孩子最终都是在这个怪异的、与现实世界没有任何交集的学术界找到个人定位。<br>优秀的学生”往高处走”，直到竞争激烈到把他们的梦想吞噬殆尽。高等教育是一场困局，在高中时对未来有宏伟规划的学生，最后却陷入了与智力程度不相上下的同学在传统职场上的竞争，如企业管理咨询和投资银行业务。<br>最后甚至为了获得把自己转变成一个墨守成规之人的特权，要支付数十万。</p>
</blockquote>
<h1 id="垄断企业的特征"><a href="#垄断企业的特征" class="headerlink" title="垄断企业的特征"></a>垄断企业的特征</h1><p>垄断的企业这么多好处，那他们的共同点是什么呢？</p>
<ol>
<li>专利技术<br>要想通过专利技术达到垄断的效果，只有优于现在的产品10倍才能拥有垄断的效果。<br>而想创造出优于现在技术十倍的产品，必然需要从0到1的创新，创造新的事物，才能是公司的价值无限增长。<br>如果你能做到10倍的优势，就可以避开竞争。</li>
<li>网络效应<br>不要一开始就进入大的市场，先寻找非常小的市场，为用户提供有价值的产品，然后逐渐扩大市场，使之产生网络效应。<br>像facebook一样，从哈佛学生开始，在到其他高校，然后到全球所有人。</li>
<li>规模经济<br>规模经济来自于好的商业模式。你的产品是不是会随着你市场占有率的增加而增需要加更多的投入。这个很重要。优秀的商业模式不会随着使用人数的增加而增加成本的投入。<br>如：在线教育，只有10个人听你讲课的时候和有10万个人听课的时候，你需要付出的精力、时间、成本几乎不需要变化。这样的模式形成的规模优势可以创造更多的利润。</li>
<li>品牌优势<br>好的品牌会占领你心里的某一个认知，一旦提起，你第一个就会想到它。深入人心的品牌形成强势的品牌垄断。<br>苹果手机、格力空调都是这样的产品。</li>
</ol>
<h1 id="如何创造垄断的企业"><a href="#如何创造垄断的企业" class="headerlink" title="如何创造垄断的企业"></a>如何创造垄断的企业</h1><p>每一个垄断的企业都来自于一个秘密（未知的需求），一个其他人都不知道，或者跟其他人看法都不一样的秘密，然后偷偷的对这个秘密进行挖掘开发，产生产品，通过这个产品建立一个垄断的企业，这是一个从0到1的创造过程。</p>
<p>总的来说，从0到1的创新可以创造出垄断的产品，而垄断的产品可以产生超额的利润。<br>从1到n的复制只会是产生同质化的产品，同质化的产品产生竞争，激烈的竞争会吞噬利润，甚至导致公司的破产。<br>个人来说也一样，如果可以找到自己的优势，避开竞争（至少不要去主动寻找竞争），找到属于自己的垄断区域，获取垄断带来的丰厚的回报。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2018/02/10/navigation_ad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/10/navigation_ad/" itemprop="url">
                  互联网人常用的网站
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-02-10 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-10T00:00:00+08:00">2018-02-10</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/工具/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>免责声明: 以下网站皆收集于互联网,若无意触犯相关法律,告知立即删除.</strong></p>
<h1 id="国内"><a href="#国内" class="headerlink" title="国内"></a>国内</h1><table>
<thead>
<tr>
<th style="text-align:left">网站名</th>
<th style="text-align:left">网址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">adexchanger.cn (广告技术流)</td>
<td style="text-align:left"><a href="http://www.adexchanger.cn/" target="_blank" rel="noopener">http://www.adexchanger.cn/</a></td>
</tr>
<tr>
<td style="text-align:left">morketing (专注移动营销)</td>
<td style="text-align:left"><a href="http://morketing.cn/" target="_blank" rel="noopener">http://morketing.cn/</a></td>
</tr>
<tr>
<td style="text-align:left">梅花网 (营销者的信息中心)</td>
<td style="text-align:left"><a href="http://www.meihua.info/" target="_blank" rel="noopener">http://www.meihua.info/</a></td>
</tr>
<tr>
<td style="text-align:left">疯狂简报 (关注创意与生意)</td>
<td style="text-align:left"><a href="http://madbrief.com/" target="_blank" rel="noopener">http://madbrief.com/</a></td>
</tr>
<tr>
<td style="text-align:left">199it (互联网数据中心)</td>
<td style="text-align:left"><a href="http://www.199it.com/" target="_blank" rel="noopener">http://www.199it.com/</a></td>
</tr>
<tr>
<td style="text-align:left">Topmarketing (新锐营销价值平台)</td>
<td style="text-align:left"><a href="http://itopmarketing.com/" target="_blank" rel="noopener">http://itopmarketing.com/</a></td>
</tr>
<tr>
<td style="text-align:left">RTBchina (程序化广告新闻)</td>
<td style="text-align:left"><a href="http://www.rtbchina.com/" target="_blank" rel="noopener">http://www.rtbchina.com/</a></td>
</tr>
<tr>
<td style="text-align:left">好奇心日报 (好奇驱动你的世界)</td>
<td style="text-align:left"><a href="http://www.qdaily.com/" target="_blank" rel="noopener">http://www.qdaily.com/</a></td>
</tr>
<tr>
<td style="text-align:left">虎嗅网 (独立科技媒体)</td>
<td style="text-align:left"><a href="http://www.huxiu.com/" target="_blank" rel="noopener">http://www.huxiu.com/</a></td>
</tr>
<tr>
<td style="text-align:left">雷锋网 (读懂移动互联网)</td>
<td style="text-align:left"><a href="http://www.leiphone.com/" target="_blank" rel="noopener">http://www.leiphone.com/</a></td>
</tr>
<tr>
<td style="text-align:left">钛媒体 (网络天下创新事)</td>
<td style="text-align:left"><a href="http://www.tmtpost.com/" target="_blank" rel="noopener">http://www.tmtpost.com/</a></td>
</tr>
<tr>
<td style="text-align:left">品玩 (有品好玩的科技)</td>
<td style="text-align:left"><a href="http://www.pingwest.com/" target="_blank" rel="noopener">http://www.pingwest.com/</a></td>
</tr>
<tr>
<td style="text-align:left">36氪 (创业者平台)</td>
<td style="text-align:left"><a href="http://36kr.com/" target="_blank" rel="noopener">http://36kr.com/</a></td>
</tr>
<tr>
<td style="text-align:left">爱运营 (运营人的胜地)</td>
<td style="text-align:left"><a href="http://www.iyunying.org/" target="_blank" rel="noopener">http://www.iyunying.org/</a></td>
</tr>
<tr>
<td style="text-align:left">果壳网 (科技有意思)</td>
<td style="text-align:left"><a href="http://www.guokr.com/" target="_blank" rel="noopener">http://www.guokr.com/</a></td>
</tr>
<tr>
<td style="text-align:left">爱范儿 (连接热爱)</td>
<td style="text-align:left"><a href="http://www.ifanr.com/" target="_blank" rel="noopener">http://www.ifanr.com/</a></td>
</tr>
<tr>
<td style="text-align:left">极客公园 (发现产品的机制)</td>
<td style="text-align:left"><a href="http://www.geekpark.net/" target="_blank" rel="noopener">http://www.geekpark.net/</a></td>
</tr>
<tr>
<td style="text-align:left">亿欧网 (驱动创业创新)</td>
<td style="text-align:left"><a href="http://www.iyiou.com/" target="_blank" rel="noopener">http://www.iyiou.com/</a></td>
</tr>
<tr>
<td style="text-align:left">网站分析在中国 (从基础到前沿)</td>
<td style="text-align:left"><a href="http://www.chinawebanalytics.cn/" target="_blank" rel="noopener">http://www.chinawebanalytics.cn/</a></td>
</tr>
<tr>
<td style="text-align:left">鸟哥笔记 (移动互联网干货分享)</td>
<td style="text-align:left"><a href="http://www.niaogebiji.com/" target="_blank" rel="noopener">http://www.niaogebiji.com/</a></td>
</tr>
<tr>
<td style="text-align:left">青瓜传媒 (移动互联网营销者的信息中心)</td>
<td style="text-align:left"><a href="http://www.opp2.com/" target="_blank" rel="noopener">http://www.opp2.com/</a></td>
</tr>
<tr>
<td style="text-align:left">91运营 (运营人的训练营)</td>
<td style="text-align:left"><a href="http://www.91yunying.com/" target="_blank" rel="noopener">http://www.91yunying.com/</a></td>
</tr>
<tr>
<td style="text-align:left">人人都是产品经理 (产品人的必备利器)</td>
<td style="text-align:left"><a href="http://www.woshipm.com/" target="_blank" rel="noopener">http://www.woshipm.com/</a></td>
</tr>
<tr>
<td style="text-align:left">姑婆那些事（运营推广必看的网站）</td>
<td style="text-align:left"><a href="http://www.gupowang.com/" target="_blank" rel="noopener">http://www.gupowang.com/</a></td>
</tr>
<tr>
<td style="text-align:left">网络广告人社区（广告人不能错过的地方）</td>
<td style="text-align:left"><a href="http://iwebad.com/" target="_blank" rel="noopener">http://iwebad.com/</a></td>
</tr>
<tr>
<td style="text-align:left">砍柴网（有态度的科技媒体）</td>
<td style="text-align:left"><a href="http://www.ikanchai.com/" target="_blank" rel="noopener">http://www.ikanchai.com/</a></td>
</tr>
<tr>
<td style="text-align:left">网络人广告社区</td>
<td style="text-align:left"><a href="http://iwebad.com/" target="_blank" rel="noopener">http://iwebad.com/</a></td>
</tr>
<tr>
<td style="text-align:left">广告门</td>
<td style="text-align:left"><a href="http://www.adquan.com/" target="_blank" rel="noopener">http://www.adquan.com/</a></td>
</tr>
</tbody>
</table>
<h1 id="国外"><a href="#国外" class="headerlink" title="国外"></a>国外</h1><table>
<thead>
<tr>
<th style="text-align:left">网站名</th>
<th style="text-align:left">网址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">adexchanger (程序化交易资讯)</td>
<td style="text-align:left"><a href="http://adexchanger.com/" target="_blank" rel="noopener">http://adexchanger.com/</a></td>
</tr>
<tr>
<td style="text-align:left">adage (营销行业新闻)</td>
<td style="text-align:left"><a href="http://adage.com/" target="_blank" rel="noopener">http://adage.com/</a></td>
</tr>
<tr>
<td style="text-align:left">businessinsider (IT 技术、产品、趋势、业内动态)</td>
<td style="text-align:left"><a href="http://www.businessinsider.com/" target="_blank" rel="noopener">http://www.businessinsider.com/</a></td>
</tr>
<tr>
<td style="text-align:left">displayadtech (美国交易广告动态图及公司大全)</td>
<td style="text-align:left"><a href="http://www.displayadtech.com/" target="_blank" rel="noopener">http://www.displayadtech.com/</a></td>
</tr>
<tr>
<td style="text-align:left">econsultancy (电商及营销分析&amp;报告)</td>
<td style="text-align:left"><a href="https://econsultancy.com/" target="_blank" rel="noopener">https://econsultancy.com/</a></td>
</tr>
<tr>
<td style="text-align:left">techmeme (科技新闻聚合，扎克伯格也爱看)</td>
<td style="text-align:left"><a href="https://econsultancy.com/" target="_blank" rel="noopener">https://econsultancy.com/</a></td>
</tr>
<tr>
<td style="text-align:left">TechCrunch (最新科技新闻)</td>
<td style="text-align:left"><a href="http://techcrunch.com/" target="_blank" rel="noopener">http://techcrunch.com/</a></td>
</tr>
<tr>
<td style="text-align:left">emarketer (数字广告报告及洞察)</td>
<td style="text-align:left"><a href="http://www.emarketer.com/" target="_blank" rel="noopener">http://www.emarketer.com/</a></td>
</tr>
<tr>
<td style="text-align:left">L2 (商业情报)</td>
<td style="text-align:left"><a href="http://l2inc.com/" target="_blank" rel="noopener">http://l2inc.com/</a></td>
</tr>
<tr>
<td style="text-align:left">digitalmarketingmagazine (数字营销杂志)</td>
<td style="text-align:left"><a href="http://digitalmarketingmagazine.co.uk/" target="_blank" rel="noopener">http://digitalmarketingmagazine.co.uk/</a></td>
</tr>
<tr>
<td style="text-align:left">marketingland (数字营销趋势)</td>
<td style="text-align:left"><a href="http://marketingland.com/" target="_blank" rel="noopener">http://marketingland.com/</a></td>
</tr>
<tr>
<td style="text-align:left">mobiforge (移动网页设计及开发)</td>
<td style="text-align:left"><a href="http://mobiforge.com/" target="_blank" rel="noopener">http://mobiforge.com/</a></td>
</tr>
</tbody>
</table>
<h1 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h1><table>
<thead>
<tr>
<th style="text-align:left">网站名</th>
<th style="text-align:left">网址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">百度指数 (搜索指数热度)</td>
<td style="text-align:left"><a href="http://index.baidu.com/" target="_blank" rel="noopener">http://index.baidu.com/</a></td>
</tr>
<tr>
<td style="text-align:left">adbug (针对广告的爬虫及搜索)</td>
<td style="text-align:left"><a href="http://www.adbug.cn/" target="_blank" rel="noopener">http://www.adbug.cn/</a></td>
</tr>
<tr>
<td style="text-align:left">爱站网 (站长工具，网站 seo 分析)</td>
<td style="text-align:left"><a href="http://www.aizhan.com/" target="_blank" rel="noopener">http://www.aizhan.com/</a></td>
</tr>
<tr>
<td style="text-align:left">google 趋势 (google 搜索指数)</td>
<td style="text-align:left"><a href="http://www.google.com/trends" target="_blank" rel="noopener">http://www.google.com/trends</a></td>
</tr>
<tr>
<td style="text-align:left">微博指数 (微博话题关注度)</td>
<td style="text-align:left"><a href="http://data.weibo.com/" target="_blank" rel="noopener">http://data.weibo.com/</a></td>
</tr>
<tr>
<td style="text-align:left">淘宝指数 (热卖商品)</td>
<td style="text-align:left"><a href="http://shu.taobao.com/" target="_blank" rel="noopener">http://shu.taobao.com/</a></td>
</tr>
<tr>
<td style="text-align:left">阿里指数 (采购趋势分析)</td>
<td style="text-align:left"><a href="http://index.1688.com/" target="_blank" rel="noopener">http://index.1688.com/</a></td>
</tr>
<tr>
<td style="text-align:left">移动 app 趋势 (跟踪百万应用)</td>
<td style="text-align:left"><a href="http://www.asou.com/" target="_blank" rel="noopener">http://www.asou.com/</a></td>
</tr>
<tr>
<td style="text-align:left">电视收视率</td>
<td style="text-align:left"><a href="http://eye.kuyun.com/web/" target="_blank" rel="noopener">http://eye.kuyun.com/web/</a></td>
</tr>
<tr>
<td style="text-align:left">旅游预测</td>
<td style="text-align:left"><a href="http://trends.baidu.com/tour/" target="_blank" rel="noopener">http://trends.baidu.com/tour/</a></td>
</tr>
<tr>
<td style="text-align:left">it 桔子 (国内互联网公司大事记)</td>
<td style="text-align:left"><a href="https://www.itjuzi.com/" target="_blank" rel="noopener">https://www.itjuzi.com/</a></td>
</tr>
<tr>
<td style="text-align:left">Crunchbase (国外公司大事记)</td>
<td style="text-align:left"><a href="https://www.crunchbase.com/" target="_blank" rel="noopener">https://www.crunchbase.com/</a></td>
</tr>
<tr>
<td style="text-align:left">deeplink (deeplink 试用)</td>
<td style="text-align:left"><a href="http://deeplink.me/" target="_blank" rel="noopener">http://deeplink.me/</a></td>
</tr>
<tr>
<td style="text-align:left">Ghostery (广告跟踪及监测)</td>
<td style="text-align:left"><a href="http://ghostery.com/" target="_blank" rel="noopener">http://ghostery.com/</a> (有各版本浏览器插件)</td>
</tr>
<tr>
<td style="text-align:left">百度 echarts (国内最好的数据可视化工具)</td>
<td style="text-align:left"><a href="http://echarts.baidu.com/" target="_blank" rel="noopener">http://echarts.baidu.com/</a></td>
</tr>
<tr>
<td style="text-align:left">百度 API 服务 (最近开放了用户标签 API)</td>
<td style="text-align:left"><a href="http://apistore.baidu.com/" target="_blank" rel="noopener">http://apistore.baidu.com/</a></td>
</tr>
<tr>
<td style="text-align:left">网页 abtest  (可视化网站优化)</td>
<td style="text-align:left"><a href="http://www.abtester.cn/" target="_blank" rel="noopener">http://www.abtester.cn/</a></td>
</tr>
<tr>
<td style="text-align:left">Piwik (开源统计分析工具)</td>
<td style="text-align:left"><a href="http://piwik.org/" target="_blank" rel="noopener">http://piwik.org/</a></td>
</tr>
<tr>
<td style="text-align:left">affpaying  (国外联盟排行及 offer 查询)</td>
<td style="text-align:left"><a href="http://www.affpaying.com/" target="_blank" rel="noopener">http://www.affpaying.com/</a></td>
</tr>
<tr>
<td style="text-align:left"><font color="#FF0000"> 大数据导航网站（非常全面的导航网站）</font></td>
<td style="text-align:left"><a href="http://hao.199it.com/" target="_blank" rel="noopener">http://hao.199it.com/</a></td>
</tr>
</tbody>
</table>
<p>持续更新……</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2018/01/30/java-io-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/30/java-io-1/" itemprop="url">
                  java io读取超大文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-01-30 00:00:00" itemprop="dateCreated datePublished" datetime="2018-01-30T00:00:00+08:00">2018-01-30</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>日常工作过程中经常使用IO读写文件，但是有时候由于文件过大，导致IO读取时出现内存溢出。<br>这种情况下，我们就可以使用内存映射文件来解决。</p>
<h1 id="什么是内存映射文件呢？"><a href="#什么是内存映射文件呢？" class="headerlink" title="什么是内存映射文件呢？"></a>什么是内存映射文件呢？</h1><p>内存映射文件，可以理解为将一个文件映射到内存地址，然后可以通过操作内存来访问文件数据。这样既不用担心内存溢出，而且还能获得更高的性能。</p>
<h1 id="那如何创建和使用内存映射文件呢？"><a href="#那如何创建和使用内存映射文件呢？" class="headerlink" title="那如何创建和使用内存映射文件呢？"></a>那如何创建和使用内存映射文件呢？</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">package com.tzq.utils;</span><br><span class="line"></span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.nio.MappedByteBuffer;</span><br><span class="line">import java.nio.channels.FileChannel;</span><br><span class="line">import com.alibaba.fastjson.JSON;</span><br><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">/**</span><br><span class="line"> * @author tzq</span><br><span class="line"> */</span><br><span class="line">public class IOUtil &#123;</span><br><span class="line">    private MappedByteBuffer[] mappedBufArray;</span><br><span class="line">    private int count = 0;</span><br><span class="line">    private int number;</span><br><span class="line">    private FileInputStream fileIn;</span><br><span class="line">    private long fileLength;</span><br><span class="line">    private int arraySize;</span><br><span class="line">    private byte[] array;</span><br><span class="line"></span><br><span class="line">    public IOUtil(String fileName, int arraySize) throws IOException &#123;</span><br><span class="line">        this.fileIn = new FileInputStream(fileName);</span><br><span class="line">        FileChannel fileChannel = fileIn.getChannel();</span><br><span class="line">        this.fileLength = fileChannel.size();</span><br><span class="line">        this.number = (int) Math.ceil((double) fileLength / (double) Integer.MAX_VALUE);</span><br><span class="line">        this.mappedBufArray = new MappedByteBuffer[number];// 内存文件映射数组</span><br><span class="line">        long preLength = 0;</span><br><span class="line">        long regionSize = (long) Integer.MAX_VALUE;// 映射区域的大小</span><br><span class="line">        for (int i = 0; i &lt; number; i++) &#123;// 将文件的连续区域映射到内存文件映射数组中</span><br><span class="line">            if (fileLength - preLength &lt; (long) Integer.MAX_VALUE) &#123;</span><br><span class="line">                regionSize = fileLength - preLength;// 最后一片区域的大小</span><br><span class="line">            &#125;</span><br><span class="line">            mappedBufArray[i] = fileChannel.map(FileChannel.MapMode.READ_ONLY, preLength, regionSize);</span><br><span class="line">            preLength += regionSize;// 下一片区域的开始</span><br><span class="line">        &#125;</span><br><span class="line">        this.arraySize = arraySize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int read() throws IOException &#123;</span><br><span class="line">        if (count &gt;= number) &#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        int limit = mappedBufArray[count].limit();</span><br><span class="line">        int position = mappedBufArray[count].position();</span><br><span class="line">        if (limit - position &gt; arraySize) &#123;</span><br><span class="line">            array = new byte[arraySize];</span><br><span class="line">            System.out.println(array);</span><br><span class="line">            mappedBufArray[count].get(array);</span><br><span class="line">            return arraySize;</span><br><span class="line">        &#125; else &#123;// 本内存文件映射最后一次读取数据</span><br><span class="line">            array = new byte[limit - position];</span><br><span class="line">            mappedBufArray[count].get(array);</span><br><span class="line">            if (count &lt; number) &#123;</span><br><span class="line">                count++;// 转换到下一个内存文件映射</span><br><span class="line">            &#125;</span><br><span class="line">            return limit - position;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public void close() throws IOException &#123;</span><br><span class="line">        fileIn.close();</span><br><span class="line">        array = null;</span><br><span class="line">    &#125;</span><br><span class="line">    public byte[] getArray() &#123;</span><br><span class="line">        return array;</span><br><span class="line">    &#125;</span><br><span class="line">    public long getFileLength() &#123;</span><br><span class="line">        return fileLength;</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args) throws IOException &#123;</span><br><span class="line">    	IOUtil reader = new IOUtil(&quot;/Users/tzq/Downloads/data.log&quot;, 65536);</span><br><span class="line">        long start = System.nanoTime();</span><br><span class="line">        int i = 0 ;</span><br><span class="line">        while (reader.read() != -1)&#123;</span><br><span class="line">        	i = i +1;</span><br><span class="line">        	String str = new String(reader.getArray());</span><br><span class="line">        	String[] lines = str.split(&quot;\r&quot;);</span><br><span class="line">        	for(String line : lines)&#123;</span><br><span class="line">        		System.out.println(line);</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        reader.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2017/12/04/spark-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/04/spark-3/" itemprop="url">
                  Spark使用多文件输出
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-12-04 00:00:00" itemprop="dateCreated datePublished" datetime="2017-12-04T00:00:00+08:00">2017-12-04</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="需求描述"><a href="#需求描述" class="headerlink" title="需求描述"></a>需求描述</h1><p>最近遇到了这样一个场景，用spark去处理多个数据源的数据，但是这些数据都掺杂在一起，需要根据不同数据源将数据存储在不同的目录中。</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>我们spark处理晚的数据，在存储的时候可以使用saveAsHadoopFile去自定义存储路径和格式。</p>
<p>具体实例如下：<br>1、首先需要创建一个类，去继承MultipleTextOutputFormat类，并重写它的generateFileNameForKeyValue方法。</p>
<p>而MultipleTextOutputFormat是何方神圣呢？<br>其实MultipleTextOutputFormat是hadoop的多文件输出类。在写每条记录之前，MultipleOutputFormat将调用generateFileNameForKeyValue方法来确定需要写入的文件名。<br>其中generateFileNameForKeyValue方法的默认实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">protected String generateFileNameForKeyValue(K key, V value, String name) &#123;</span><br><span class="line">    return name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我们可以重写generateFileNameForKeyValue方法，改成根据key存储，或者解析value，根据value中的某一字段进行分目录存储都可以。下例是根据key分目录存储。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 设置根据spark的key进行存储</span><br><span class="line"> */</span><br><span class="line">class RDDMultipleTextOutputFormat[K, V]() extends MultipleTextOutputFormat[K, V]() &#123;</span><br><span class="line">    override def generateFileNameForKeyValue(key: K, value: V, name: String) : String = &#123;</span><br><span class="line">        (key + &quot;/&quot; + name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2、然后存储的时候可以使用saveAsHadoopFile存储，并指定存储方式。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">... //处理完的rdd调用saveAsHadoopFile，使用自己定义的存储方式存储</span><br><span class="line">resultRdd.saveAsHadoopFile(</span><br><span class="line">        outputDataPath,</span><br><span class="line">        classOf[String],</span><br><span class="line">        classOf[String],</span><br><span class="line">        classOf[RDDMultipleTextOutputFormat[_,_]])</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2017/11/29/spark-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/29/spark-2/" itemprop="url">
                  Spark 任务提交过程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-29 00:00:00" itemprop="dateCreated datePublished" datetime="2017-11-29T00:00:00+08:00">2017-11-29</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Spark任务提交的过程"><a href="#Spark任务提交的过程" class="headerlink" title="Spark任务提交的过程"></a>Spark任务提交的过程</h1><p>试着画图描述一个spark任务提交的完整过程……</p>
<p>Spark任务提交流程如下图：<br><img src="/images/spark任务提交过程.png" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2017/11/21/jvm-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/21/jvm-1/" itemprop="url">
                  JVM
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-21 00:00:00" itemprop="dateCreated datePublished" datetime="2017-11-21T00:00:00+08:00">2017-11-21</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="jvm内存区域"><a href="#jvm内存区域" class="headerlink" title="jvm内存区域"></a>jvm内存区域</h1><ol>
<li><p>线程隔离的数据区</p>
<ul>
<li>程序计数器<br>程序计数器（Program Counter Register）是当前线程所执行的字节码的行号指示器，字节码解释器工作时就是通过改变这个计数器的值来选取下一条需要执行的字节码指令。分支、循环、跳转、异常处理、线程恢复等基础功能都需要依赖这个计数器来完成。<br>为了线程切换后能恢复到正确的执行位置，每条线程都需要有一个独立的程序计数器，各条线程之间计数器互不影响，独立存储，所以程序计数器这类内存区域为“线程私有”的内存<br>如果线程正在执行的是Native方法，这个计数器值则为空（Undefined）。<br>native是与C++联合开发的时候用的！使用native关键字说明这个方法是原生函数，也就是这个方法是用C/C++语言实现的，并且被编译成了DLL，由java去调用</li>
<li>java虚拟机栈</li>
<li>本地方法栈<br>他们作用相似，区别只是：虚拟机栈为虚拟机执行Java方法（也就是字节码）服务，而本地方法栈则为虚拟机使用到的Native方法服务。<br>每个方法在执行的同时都会创建一个栈帧（Stack Frame）用于存储局部变量表、操作数栈、动态链接、方法出口等信息。每一个方法从调用直至执行完成的过程，就对应着一个栈帧在虚拟机栈中入栈到出栈的过程。<br>程序员人为的分为“堆栈”中的“栈”。</li>
</ul>
<p>栈的存储：<br>栈里存放了编译期可知的各种基本数据类型（boolean、byte、char、short、int、float、long、double）、对象引用和指向了一条字节码指令的地址。<br>局部变量表所需的内存空间在编译期间完成分配，其中64位的long和double类型的数据会占2个局部变量空间，其余的数据类型只占用1个。当进入一个方法时，这个方法需要在帧中分配多大的局部变量空间是完全确定的，在方法运行期间不会改变局部变量表的大小。</p>
</li>
<li>所有线程共享的数据区<br>java队、方法区<br><img src="/images/jvm-1.png" alt=""></li>
</ol>
<h1 id="对象的引用"><a href="#对象的引用" class="headerlink" title="对象的引用"></a>对象的引用</h1><p>java中引用分为：强引用、软引用、弱引用、虚引用（幽灵引用或幻影引用），这4种引用强度逐渐减弱。</p>
<ul>
<li>强引用<br>在程序代码中正常的类似于 “Person p = new Person()“这类的引用；垃圾回收器不会回收掉被强引用的对象</li>
<li>软引用<br>有用但非必须的对象，jdk中提供了SoftReference类来实现软引用<br>系统在发生内存溢出异常时，会把软引用对象进行回收</li>
<li>弱引用<br>非必须的对象，jdk中提供了WeakReference类来实现弱引用，比软引用弱一些，垃圾回收不论内存是否不足都会回收只被弱引用关联的对象</li>
<li>虚引用<br>对被引用对象的生存时间不影响；<br>无法通过虚引用来取得一个对象实例；<br>为一个对象设置虚引用关联的唯一目的就是能在这个对象被收集器回收时收到一个系统通知；<br>jdk提供PhantomReference类来实现虚引用</li>
</ul>
<h1 id="GC算法"><a href="#GC算法" class="headerlink" title="GC算法"></a>GC算法</h1><h2 id="标记-清除算法（Mark-Sweep）"><a href="#标记-清除算法（Mark-Sweep）" class="headerlink" title="标记-清除算法（Mark-Sweep）"></a>标记-清除算法（Mark-Sweep）</h2><ol>
<li>标记出所有需要回收的对象，在标记完成后统一回收所有被标记的对象<br>该算法的缺点：</li>
</ol>
<ul>
<li>效率问题<br>标记和清除两个过程的效率都不高</li>
<li>空间问题<br>标记清除后会产生大量不连续的内存碎片，空间碎片太多可能会导致以后在程序运行过程中需要分配较大对象时，无法找到足够的连续内存而不得不提前触发另一次垃圾回收动作</li>
</ul>
<h2 id="复制算法（Copying）"><a href="#复制算法（Copying）" class="headerlink" title="复制算法（Copying）"></a>复制算法（Copying）</h2><ol>
<li>将可用内存按容量划分为大小相等的两块，每次只是用其中之一</li>
<li>当这一块的内存用完了，就将还存活的对象复制到另外一块上面，然后再把已使用过的内存空间一次清理掉<br>该算法的优缺点：</li>
</ol>
<ul>
<li>优点：<br>这样使得每次都是对整个半区进行内存回收，内存分配时也就不用考虑内存碎片等复杂情况，只要移动堆顶指针，按顺序分配内存即可，实现简单，运行高效</li>
<li>缺点：</li>
</ul>
<ol>
<li>实际可用内存只有原来的一半</li>
<li>复制算法在对象存活率比较高的情况下需要对较多的对象进行复制操作，效率会变低</li>
</ol>
<p>现在的商业虚拟机都使用这种算法来回收新生代。<br>将内存分为一块较大的Eden空间和两块较小的Survivor空间，每次使用Eden和其中的一块Survivor空间，当回收时，将Eden和Survivor中还存活着的对象一次性复制到另外一块Survivor空间上，最后清理掉Eden和刚刚使用过的Survivor空间。<br>HotSpot虚拟机默认Eden和Survivor的大小比例是8:1，浪费10%</p>
<p>当Survivor空间不够用的时候，需要依赖其他的内存（这里指老年代）进行分配担保</p>
<h2 id="标记整理算法（Mark-Compact）"><a href="#标记整理算法（Mark-Compact）" class="headerlink" title="标记整理算法（Mark-Compact）"></a>标记整理算法（Mark-Compact）</h2><ol>
<li>标记出需要清除的对象</li>
<li>让所有存活的对象都向一端移动，然后直接清理掉端边界以外的内存</li>
</ol>
<h2 id="分代收集算法（Generational-Collection）"><a href="#分代收集算法（Generational-Collection）" class="headerlink" title="分代收集算法（Generational Collection）"></a>分代收集算法（Generational Collection）</h2><ol>
<li>根据对象存活周期将内存划分为几块</li>
<li>一般是把java堆分为新生代和老年代，这样就可用根据各个年代的特点采用最恰当的收集算法</li>
<li>在新生代中，每次垃圾回收时都会发现有大量的对象死去，只有少量存活，所以适合复制算法，只需要付出少量存活对象的复制成本就可用完成收集</li>
<li>老年代中因为对象存活率高、没有额外空间对它进行分配担保，就必须使用“标记-清理”或者“标记-整理”算法来进行回收</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2017/11/18/zashuo-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/18/zashuo-1/" itemprop="url">
                  “在别处”症候群
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-18 00:00:00" itemprop="dateCreated datePublished" datetime="2017-11-18T00:00:00+08:00">2017-11-18</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/杂说/" itemprop="url" rel="index"><span itemprop="name">杂说</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文章转自：<a href="http://www.xinli001.com/info/100008789" target="_blank" rel="noopener">http://www.xinli001.com/info/100008789</a></p>
<p>心理导读：生活不一定在别处，当我们将全部希望和幻想寄托在一个虚无的新环境时，可能我们早已忘却“生活在这里”的能力。—— www.xinli001.com<br><img src="/images/zashuo-1.png" alt=""><br>我有一位朋友，年纪长我几岁，工作能力很强，在我所处行业内算是小有名气。</p>
<p>半年前他辞了职，再之后都在家中赋闲，每天喝茶写字，摆弄各种爱好，至少从社交软件上看，日子过得很充实。我有次跟他聊天，问他有没有工作的计划。他没有直接回答我，而是绕开我的问题说着行业的问题所在，最后他说，没准换个城市心境会改变很多。</p>
<p>我被绕了进去，追着问，即使换了环境，这些问题不是依然还存在吗？</p>
<p>他答道，可是如果你的心态变了，看问题的方式也许就会有大不同。</p>
<p>我说，心态的改变与环境有必要联系吗？</p>
<p>他盯着我，直到看得我发毛才一脸肯定地说，那是当然的了。</p>
<p>原本这只是一次闲聊，巧的是，跟他告别两周后，相同的对白又一次发生。我公司里有位实习生试用期结束，对我说想要换一间公司。我第一反应是留住他，因为他在几位同期的实习生当中，能力算是不错的。</p>
<p>我问他是因为薪水的问题，还是在这里工作得不顺心？</p>
<p>他坦白说都不是，只是觉得自己每天做最基础的工作，一成不变的日程令他觉得浪费时间。他说，没准换间公司会见识到更多的东西。</p>
<p>我说，即使换一间公司，以你初入职场的能力，也一样是做同样的事情啊，何必操之过急呢。</p>
<p>他摇摇头说，正是因为我刚刚毕业，所以才急需多经历新鲜的环境，这样才能看到不同角度的世界，才称得上完整的人生。</p>
<p>听到这里，我哑口无言，只好在他的辞职函上签字。</p>
<p>如果说我那位朋友还没有将话点透，实习生的道理则让我切切实实无从反驳。换作我是他的年龄，大概想破头也讲不出这样角度刁钻的观点。我不禁沉思，在大部分人眼中，视界狭窄就代表着见识浅、能力低，沦为弱势群体的想法根深蒂固，而经历不同环境所带来的阅历上的“充电”是正常，且理所应当的。然而，在这个逻辑关系里，人们似乎都刻意在着重“经历”的获取，而忽略了阅历并非只要经历过就会拥有这件事。</p>
<p>前不久我收到一位朋友从台北寄来明信片，正面是雄伟的一零一大厦，背面却只潦草写着，不多说了，在赶飞机。回来的时候我去机场接她，问到台北的感受如何，她带着一脸倦容说，人太多，行程又紧张，很多景点都只是走马观花，照片都没拍几张。实在难以描述在她语气中的失落，有不甘，有无奈，更多的是累。</p>
<p>你看，明明是去度假，却让自己累成了一匹马。在此之前，她何尝不是抱着摆脱都市生活躲到远方旅行，换个角度看世界的想法，然而这种急匆匆的经历，除了满心的疲累，我实在想不出可以有什么收获。</p>
<p>事实上，我认识的许多人都是这样，在城市里一天天觉得毫无乐趣枯燥乏味犹如困兽，却以为去遥远的地方旅行时就会神采焕发活灵活现；相同的工作做上一年半载就开始怀疑是在蹉跎人生，却以为换间公司换个环境就可以寻找到青春的激情、丰富的见闻和源源不断的新鲜感；在感情上，这种毫无逻辑的心理表现得更加淋漓尽致，遇见心仪的对象，睡前辗转反侧脑补无数种同她在一起的甜蜜场景，自以为天造地设，然而真正走到一起却发现她矫情做作，爱慕虚荣，睡觉打呼醒来还有口气，方才如大梦初醒，悔之晚矣。</p>
<p>“生活在别处”，诗人兰波的这句话自从被米兰·昆德拉弄得世人皆知，就变成了困顿都市人们心中的精神鸦片。在一成不变的生活夹缝中求生存，难免会幻想“在别处”的美好，那儿有清新空气恬静生活，有高薪待遇闲暇时光，更有簇新的梦想，志同道合的人群和无数喜闻乐见的送炮女青年。</p>
<p>记得念书的时候，我们的天敌是父母口中别人家的孩子，不久你谈恋爱了，天敌变成了恋人言语中别人家的男朋友，没想到不知不觉中，我们自己已经为自己设好了来自同一星球的天敌，别处的生活。看完无数版本的砺志电影和书籍传记，我们自以为掌握改变命运的咒语，学会不停地规劝自己和别人，换个工作，换个女友，换个城市，换种人生，用改变带来的可能性来告解心中的压抑，却从未想过，此刻压抑着你的未必是当下的生活。</p>
<p>我另一位朋友大学的专业是西班牙语，毕业后去厄瓜多尔援建铁路，在那儿工作了两年决定回国，我问他原因，他说那里的环境过于艰苦，经常睡到一半，发现被窝里有一只巴掌大的毛茸茸蜘蛛，出门走一圈，两米长的鳄鱼满街跑，有时候吃人，有时候被当地人捉走吃，不仅如此，他还遭遇过不下两次持枪入室抢劫。终于有一天他忍无可忍，觉得再待下去可能总有一天会被鳄鱼吃掉或者被无辜枪杀，于是毅然决定回国。</p>
<p>回来后，他找了一份翻译的工作，薪水在国内也还算不错，但他始终无法适应。在厄瓜多尔的时候，他的工作比较自由，一到假期就买张机票满世界跑，可现在就连附近的旅游城市他也只能望洋兴叹，实在忍不住的时候他就在广州租一辆自行车，漫无目的地满城跑。这种不适应感遍布他生活的方方面面，在国外每天幻想八大菜系梦里都是活色生香，但来到广州，依然每天只在一家茶餐厅用餐，不是他吃不起，而是完全没有了想要吃的欲望。</p>
<p>就这样，他在国内工作不到三个月，就决定重新去国外工作。比起空虚，他宁愿选择艰苦。</p>
<p>他的这种情况被我笑称为“在别处症候群”，在同一个环境待的越久，越会产生抵触的情绪和对别处生活的向往。但这种向往，只是你对现实的失望和逃避，即使去到别处，也未必能获得理想中的生活，你只是像个赌徒般沉溺在那无数种可能性之中而已。</p>
<p>我们习惯了时刻绷紧弦待命，哪怕是周末也像是在与时间赛跑，两点约了朋友喝茶所以一点就要出发，因为怕堵，五点必须吃完晚饭否则就赶不上六点半的电影开场。我们也厌倦这种枯燥的三点一线，以为在别处就可以摆脱所有的烦恼。但别忘了，在同样的城市里，有人下班路上观察蚂蚁搬家都要半小时，也有人甭管在纽约巴黎东京还是公司大厦都一样，拼命赶时间，仿佛浪费一丁点儿就是罪过。</p>
<p>生活不一定在别处，当我们将全部希望和幻想寄托在一个虚无的新环境时，可能我们早已忘却“生活在这里”的能力。其实，不被生活改变，亦不放过丝毫享受生活的机会，也许这才是生活真正的模样。微博上有人讲现代人个个都选择困难症，在上海向往北京的烤鸭，在北京惦记广州的早茶，在广州垂涎重庆的火锅，在重庆梦到西安的肉夹馍，然而我们在一次次向往和踟蹰中，浪费掉的绝不止是光阴。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.thinkyixia.com/2017/11/04/zookeeper-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="那个谁">
      <meta itemprop="description" content="吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="静水流深">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/04/zookeeper-6/" itemprop="url">
                  Zookeeper的选举四：Leader选举总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-11-04 00:00:00" itemprop="dateCreated datePublished" datetime="2017-11-04T00:00:00+08:00">2017-11-04</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/技术/" itemprop="url" rel="index"><span itemprop="name">技术</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>zookeeper在启动时候会进行选主；<br>下面对zookeeper的选主过程做一些总结。</p>
<h1 id="Zookeeper选主流程"><a href="#Zookeeper选主流程" class="headerlink" title="Zookeeper选主流程"></a>Zookeeper选主流程</h1><p>本文主要描述zookeeper启动时的选主过程，当leader挂掉，重新进行选举的过程与此过程大同小异，这里就不过多赘述。</p>
<p>zookeeper选主流程如下图：<br><img src="/images/zookeeper选主过程-1.png" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">那个谁</p>
              <p class="site-description motion-element" itemprop="description">吾资之昏，不逮人也，吾材之庸，不逮人也；旦旦而学之，久而不怠焉，迄乎成，而亦不知其昏与庸也。吾资之聪，倍人也，吾材之敏，倍人也；屏弃而不用，其与昏与庸无以异也。圣人之道，卒于鲁也传之。然则昏庸聪敏之用，岂有常哉？</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">46</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">26</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">那个谁</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  





  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
